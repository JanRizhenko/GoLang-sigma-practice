package main

import "fmt"

func main() {
	var x, y, z uint8

	x = 9  // 9  = 00001001
	y = 28 // 28 = 00011100
	z = x

	fmt.Println("Бітові операції")

	// ^x — побітове NOT: інвертує всі біти (0→1, 1→0)
	// 00001001 -> 11110110 = 246 (бо uint8: 255 - 9 = 246)
	fmt.Printf("^x      = ^(%d)      = ^(%.8b)            = %.8b = %d\n",
		x, x, ^x, ^x)

	// x << 2 — зсув вліво на 2 біти (множення на 4)
	// 00001001 << 2 = 00100100 = 36
	fmt.Printf("x << 2  = (%d << 2)  = (%.8b << 2)        = %.8b = %d\n",
		x, x, x<<2, x<<2)

	// x >> 2 — зсув вправо на 2 біти (ділення на 4)
	// 00001001 >> 2 = 00000010 = 2
	fmt.Printf("x >> 2  = (%d >> 2)  = (%.8b >> 2)        = %.8b = %d\n",
		x, x, x>>2, x>>2)

	// x & y — AND: біт = 1 лише якщо 1 в обох
	// 00001001
	// 00011100
	// -------- AND
	// 00001000 = 8
	fmt.Printf("x & y   = (%d & %d)  = (%.8b & %.8b)  = %.8b = %d\n",
		x, y, x, y, x&y, x&y)

	// x | y — OR: біт = 1, якщо хоч один = 1
	// 00001001
	// 00011100
	// -------- OR
	// 00011101 = 29
	fmt.Printf("x | y   = (%d | %d)  = (%.8b | %.8b)  = %.8b = %d\n",
		x, y, x, y, x|y, x|y)

	// x ^ y — XOR: біт = 1, якщо біти різні
	// 00001001
	// 00011100
	// -------- XOR
	// 00010101 = 21
	fmt.Printf("x ^ y   = (%d ^ %d)  = (%.8b ^ %.8b)  = %.8b = %d\n",
		x, y, x, y, x^y, x^y)

	// x &^ y — AND NOT: зберігає 1 тільки там, де x=1 і y=0
	// 00001001
	// 00011100
	// -------- AND-NOT
	// 00000001 = 1
	fmt.Printf("x &^ y  = (%d &^ %d) = (%.8b &^ %.8b) = %.8b = %d\n",
		x, y, x, y, x&^y, x&^y)

	// x % y — остача від ділення
	// 9 < 28, тому остача = саме 9
	fmt.Printf("x %% y   = (%d %% %d)  = (%.8b %% %.8b)  = %.8b = %d\n",
		x, y, x, y, x%y, x%y)

	fmt.Println("\nБітові операції з присвоюванням")

	// x &= y — те саме, що x = x & y
	// результат такий самий, як AND вище: 8
	x = z
	x &= y
	fmt.Printf("x &= y   = (%d &= %d)  = (%.8b &= %.8b)  = %.8b = %d\n",
		z, y, z, y, x, x)

	// x |= y — те саме, що x = x | y
	// результат такий самий, як OR вище: 29
	x = z
	x |= y
	fmt.Printf("x |= y   = (%d |= %d)  = (%.8b |= %.8b)  = %.8b = %d\n",
		z, y, z, y, x, x)

	// x ^= y — те саме, що x = x ^ y
	// результат такий самий, як XOR: 21
	x = z
	x ^= y
	fmt.Printf("x ^= y   = (%d ^= %d)  = (%.8b ^= %.8b)  = %.8b = %d\n",
		z, y, z, y, x, x)

	// x &^= y — те саме, що x = x &^ y
	// результат: 1
	x = z
	x &^= y
	fmt.Printf("x &^= y  = (%d &^= %d) = (%.8b &^= %.8b) = %.8b = %d\n",
		z, y, z, y, x, x)

	// x %= y — остача від ділення
	// 9 % 28 = 9
	x = z
	x %= y
	fmt.Printf("x %%= y   = (%d %%= %d)  = (%.8b %%= %.8b)  = %.8b = %d\n",
		z, y, z, y, x, x)

	// Завдання.
	// 1. Пояснити результати операцій (пояснення наведені у коментарях вище)
}
